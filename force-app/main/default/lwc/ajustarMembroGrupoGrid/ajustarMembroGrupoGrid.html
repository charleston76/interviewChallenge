<template>
    <table class="k2k-table slds-m-bottom_small">
        <thead>
            <tr>
                <th if:true={showDetails} class="detail"></th>
                <template for:each={header} for:item="column" for:index="index">
                    <th key={column.label}>
                        <span class="k2k-link k2k-link_table-header">{column.label}</span>
                    </th>
                </template>
            </tr>
        </thead>
        <tbody>
            <template for:each={privateContent} for:item="position" for:index="index">
                <tr id={position.id} key={position.id}>
                    <td if:true={showDetails} class="detail">
                        <lightning-button-icon id={position.showId} icon-name="utility:chevrondown" size="small"
                            data-id={position.idDetail} onclick={showDetail}></lightning-button-icon>
                        <lightning-button-icon id={position.hideId} icon-name="utility:chevronup" size="small"
                            data-id={position.idDetail} onclick={showDetail} class="hideDetail">
                        </lightning-button-icon>
                    </td>
                    <template for:each={position.row} for:item="content" for:index="index">
                        <td key={content} class="slds-size_1-of-12">
                            <lightning-formatted-rich-text value={content}></lightning-formatted-rich-text>
                        </td>
                    </template>
                    <td style="display: flex;justify-content: right;">
                        <lightning-button-icon key={action.icon} icon-name="utility:settings" disabled={disableIcons}
                            data-id={position.groupMemberId} title="Configurar" class="slds-m-right_medium" onclick={hadlerSelect}> 
                        </lightning-button-icon>

                        <lightning-button-icon key={action.delete} icon-name="utility:delete" disabled={disableIcons}
                            data-id={position.groupMemberId} title="Deletar" class="slds-m-right_medium" onclick={hadlerDelete}> 
                        </lightning-button-icon>
                    </td>
                </tr>
                <tr if:true={showDetails} id={position.detailId} key={position.detailId} class="hideDetail">
                    <td colspan="99">
                        <div class="grid-detail">
                            <template for:each={position.detail} for:item="content" for:index="index">
                                <div key={content} class="grid-detail-row">
                                    <span class="k2k-link k2k-link_table-header ">{content.label}</span>
                                    <br />
                                    <template if:false={content.isPills}>
                                        <span class="bold">
                                            <lightning-formatted-rich-text value={content.value}>
                                            </lightning-formatted-rich-text>
                                        </span>
                                    </template>
                                    <template if:true={content.isPills}>
                                        <template for:each={content.value} for:item="content" for:index="index">
                                            <span key={content} class="pill ">
                                                <lightning-formatted-rich-text value={content}>
                                                </lightning-formatted-rich-text>
                                            </span>
                                        </template>
                                    </template>
                                </div>
                            </template>
                        </div>
                    </td>
                </tr>
            </template>
        </tbody>
    </table>
</template>